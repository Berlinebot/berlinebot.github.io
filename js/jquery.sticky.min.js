!function($){var defaults={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",responsiveWidth:!1},$window=$(window),$document=$(document),sticked=[],windowHeight=$window.height(),scroller=function(){for(var scrollTop=$window.scrollTop(),documentHeight=$document.height(),dwh=documentHeight-windowHeight,extra=scrollTop>dwh?dwh-scrollTop:0,i=0;i<sticked.length;i++){var s=sticked[i],elementTop,etse;if(scrollTop<=s.stickyWrapper.offset().top-s.topSpacing-extra)null!==s.currentTop&&(s.stickyElement.css("width","").css("position","").css("top",""),s.stickyElement.trigger("sticky-end",[s]).parent().removeClass(s.className),s.currentTop=null);else{var newTop=documentHeight-s.stickyElement.outerHeight()-s.topSpacing-s.bottomSpacing-scrollTop-extra;newTop<0?newTop+=s.topSpacing:newTop=s.topSpacing,s.currentTop!=newTop&&(s.stickyElement.css("width",s.stickyElement.width()).css("position","fixed").css("top",newTop),void 0!==s.getWidthFrom&&s.stickyElement.css("width",$(s.getWidthFrom).width()),s.stickyElement.trigger("sticky-start",[s]).parent().addClass(s.className),s.currentTop=newTop)}}},resizer=function(){windowHeight=$window.height();for(var i=0;i<sticked.length;i++){var s=sticked[i];void 0!==s.getWidthFrom&&!0===s.responsiveWidth&&s.stickyElement.css("width",$(s.getWidthFrom).width())}},methods={init:function(options){var o=$.extend({},defaults,options);return this.each(function(){var stickyElement=$(this),stickyId=stickyElement.attr("id"),wrapperId=stickyId?stickyId+"-"+defaults.wrapperClassName:defaults.wrapperClassName,wrapper=$("<div></div>").attr("id",stickyId+"-sticky-wrapper").addClass(o.wrapperClassName);stickyElement.wrapAll(wrapper),o.center&&stickyElement.parent().css({width:stickyElement.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==stickyElement.css("float")&&stickyElement.css({float:"none"}).parent().css({float:"right"});var stickyWrapper=stickyElement.parent();stickyWrapper.css("height",stickyElement.outerHeight()),sticked.push({topSpacing:o.topSpacing,bottomSpacing:o.bottomSpacing,stickyElement:stickyElement,currentTop:null,stickyWrapper:stickyWrapper,className:o.className,getWidthFrom:o.getWidthFrom,responsiveWidth:o.responsiveWidth})})},update:scroller,unstick:function(options){return this.each(function(){for(var unstickyElement=$(this),removeIdx=-1,i=0;i<sticked.length;i++)sticked[i].stickyElement.get(0)==unstickyElement.get(0)&&(removeIdx=i);-1!=removeIdx&&(sticked.splice(removeIdx,1),unstickyElement.unwrap(),unstickyElement.removeAttr("style"))})}};window.addEventListener?(window.addEventListener("scroll",scroller,!1),window.addEventListener("resize",resizer,!1)):window.attachEvent&&(window.attachEvent("onscroll",scroller),window.attachEvent("onresize",resizer)),$.fn.sticky=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.sticky"):methods.init.apply(this,arguments)},$.fn.unstick=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.sticky"):methods.unstick.apply(this,arguments)},$(function(){setTimeout(scroller,0)})}(jQuery);